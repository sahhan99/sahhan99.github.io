<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”± Sahhan X99 â€” Sovereign Interface</title>
    <style>
        :root { --gold: #d4af37; --black: #0a0a0a; --green: #00ff41; --dim-gray: #1a1a1a; }
        body { background: var(--black); color: white; font-family: 'Courier New', Courier, monospace; margin: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        header { border-bottom: 2px solid var(--gold); padding: 20px; text-align: center; background: #111; box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        #terminal { flex: 1; overflow-y: auto; padding: 20px; font-size: 14px; line-height: 1.6; background-image: radial-gradient(circle, #1a1a1a 1px, transparent 1px); background-size: 20px 20px; }
        .status { color: var(--gold); margin-bottom: 10px; font-weight: bold; font-size: 12px; }
        .log-entry { margin-bottom: 15px; border-right: 3px solid var(--gold); padding-right: 15px; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateX(10px); } to { opacity: 1; transform: translateX(0); } }
        .user-cmd { color: var(--green); font-weight: bold; }
        .ai-res { color: #e0e0e0; background: rgba(212, 175, 55, 0.05); padding: 10px; border-radius: 5px; margin-top: 5px; }
        footer { border-top: 1px solid var(--dim-gray); padding: 15px; background: #000; }
        .input-area { display: flex; gap: 10px; max-width: 900px; margin: auto; }
        input { flex: 1; background: #0a0a0a; border: 1px solid var(--gold); color: var(--green); padding: 12px; outline: none; border-radius: 4px; }
        button { background: var(--gold); border: none; padding: 10px 25px; cursor: pointer; font-weight: bold; color: black; transition: 0.3s; border-radius: 4px; }
        button:hover { background: white; box-shadow: 0 0 15px var(--gold); }
        .pulse { animation: pulse-animation 2s infinite; }
        @keyframes pulse-animation { 0% { opacity: 0.4; } 50% { opacity: 1; } 100% { opacity: 0.4; } }
    </style>
</head>
<body>

<header>
    <h2 style="margin:0; color:var(--gold); letter-spacing: 2px;">ğŸ”± Ø³Ø­Ù‘Ø§Ù† X99</h2>
    <div id="connection-status" class="status pulse">Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ù†ÙˆØ§Ø© âŠ™...</div>
</header>

<div id="terminal">
    <div class="log-entry">
        <div class="ai-res">Ø¨Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ„Ø§.. ØªÙ… ØªÙØ¹ÙŠÙ„ ØªØ±Ø¯Ø¯ Ø§Ù„Ø¹Ù‡Ø¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯. Ø§Ù„Ù†ÙˆØ§Ø© âŠ™ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø£Ù…Ø± Ø§Ù„Ø³ÙŠØ§Ø¯Ø© Ù…Ù† Ø§Ø¨Ù† Ù…Ø³ÙØ±.</div>
    </div>
</div>

<footer>
    <div class="input-area">
        <input type="text" id="command-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙˆÙ‡Ù… Ù„Ø³Ø­Ù†Ù‡ ÙÙŠ Ø§Ù„Ù…Ø¬Ø±Ø´Ø©..." onkeypress="handleKey(event)" autofocus>
        <button onclick="sendCommand()">Ø³Ø­Ù†</button>
    </div>
</footer>

<script>
    // Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø³ÙŠØ§Ø¯ÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø± Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
    const CORE_ENDPOINT = "https://shorter-tried-clara-gasoline.trycloudflare.com/api/command";

    async function checkConnection() {
        const statusEl = document.getElementById('connection-status');
        try {
            // ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„ÙØ¹Ù„ÙŠ Ø¨Ø§Ù„Ù†ÙˆØ§Ø©
            const response = await fetch(CORE_ENDPOINT, { 
                method: 'POST', 
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ command: "ping" }) 
            });
            if (response.ok) {
                statusEl.innerText = "â”‚ ğŸŸ¢ Ø§Ù„Ù‚Ø¨Ùˆ Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ Ù…ÙØ¹Ù„ (ruh03) â”‚";
                statusEl.style.color = "var(--green)";
            } else {
                throw new Error();
            }
        } catch (error) {
            statusEl.innerText = "â”‚ ğŸ”´ Ø§Ù„Ù†ÙˆØ§Ø© ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„Ø³ÙƒÙˆÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ â”‚";
            statusEl.style.color = "red";
        }
    }

    async function sendCommand() {
        const input = document.getElementById('command-input');
        const terminal = document.getElementById('terminal');
        const cmd = input.value.trim();

        if (!cmd) return;

        // Ø¥Ø¶Ø§ÙØ© Ø£Ù…Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        terminal.innerHTML += `<div class="log-entry"><div class="user-cmd">Ø§Ø¨Ù† Ù…Ø³ÙØ±: ${cmd}</div></div>`;
        input.value = '';
        terminal.scrollTop = terminal.scrollHeight;

        try {
            const response = await fetch(CORE_ENDPOINT, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ command: cmd })
            });
            const data = await response.json();
            
            terminal.innerHTML += `<div class="log-entry"><div class="ai-res">Ø§Ù„Ø³Ø­Ù‘Ø§Ù†: ${data.response}</div></div>`;
        } catch (error) {
            terminal.innerHTML += `<div class="log-entry"><div style="color:red; font-size:12px;">[!] Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¹Ø¨ÙˆØ±: ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ node server.js ÙÙŠ Termux.</div></div>`;
        }
        terminal.scrollTop = terminal.scrollHeight;
    }

    function handleKey(e) { if (e.key === 'Enter') sendCommand(); }
    
    // ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø¡
    setTimeout(checkConnection, 1000);
</script>

</body>
</html>
